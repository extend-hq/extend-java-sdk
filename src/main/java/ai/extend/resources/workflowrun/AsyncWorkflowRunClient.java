/**
 * This file was auto-generated by Fern from our API Definition.
 */
package ai.extend.resources.workflowrun;

import ai.extend.core.ClientOptions;
import ai.extend.core.RequestOptions;
import ai.extend.resources.workflowrun.requests.WorkflowRunCreateRequest;
import ai.extend.resources.workflowrun.requests.WorkflowRunListRequest;
import ai.extend.resources.workflowrun.requests.WorkflowRunUpdateRequest;
import ai.extend.resources.workflowrun.types.WorkflowRunCancelResponse;
import ai.extend.resources.workflowrun.types.WorkflowRunCreateResponse;
import ai.extend.resources.workflowrun.types.WorkflowRunDeleteResponse;
import ai.extend.resources.workflowrun.types.WorkflowRunGetResponse;
import ai.extend.resources.workflowrun.types.WorkflowRunListResponse;
import ai.extend.resources.workflowrun.types.WorkflowRunUpdateResponse;
import java.util.concurrent.CompletableFuture;

public class AsyncWorkflowRunClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawWorkflowRunClient rawClient;

    public AsyncWorkflowRunClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawWorkflowRunClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawWorkflowRunClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * List runs of a Workflow. Workflows are sequences of steps that process files and data in a specific order to achieve a desired outcome. A WorkflowRun represents a single execution of a workflow against a file.
     */
    public CompletableFuture<WorkflowRunListResponse> list() {
        return this.rawClient.list().thenApply(response -> response.body());
    }

    /**
     * List runs of a Workflow. Workflows are sequences of steps that process files and data in a specific order to achieve a desired outcome. A WorkflowRun represents a single execution of a workflow against a file.
     */
    public CompletableFuture<WorkflowRunListResponse> list(WorkflowRunListRequest request) {
        return this.rawClient.list(request).thenApply(response -> response.body());
    }

    /**
     * List runs of a Workflow. Workflows are sequences of steps that process files and data in a specific order to achieve a desired outcome. A WorkflowRun represents a single execution of a workflow against a file.
     */
    public CompletableFuture<WorkflowRunListResponse> list(
            WorkflowRunListRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Run a Workflow with files. A Workflow is a sequence of steps that process files and data in a specific order to achieve a desired outcome. A WorkflowRun will be created for each file processed. A WorkflowRun represents a single execution of a workflow against a file.
     */
    public CompletableFuture<WorkflowRunCreateResponse> create(WorkflowRunCreateRequest request) {
        return this.rawClient.create(request).thenApply(response -> response.body());
    }

    /**
     * Run a Workflow with files. A Workflow is a sequence of steps that process files and data in a specific order to achieve a desired outcome. A WorkflowRun will be created for each file processed. A WorkflowRun represents a single execution of a workflow against a file.
     */
    public CompletableFuture<WorkflowRunCreateResponse> create(
            WorkflowRunCreateRequest request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Once a workflow has been run, you can check the status and output of a specific WorkflowRun.
     */
    public CompletableFuture<WorkflowRunGetResponse> get(String workflowRunId) {
        return this.rawClient.get(workflowRunId).thenApply(response -> response.body());
    }

    /**
     * Once a workflow has been run, you can check the status and output of a specific WorkflowRun.
     */
    public CompletableFuture<WorkflowRunGetResponse> get(String workflowRunId, RequestOptions requestOptions) {
        return this.rawClient.get(workflowRunId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * You can update the name and metadata of an in progress WorkflowRun at any time using this endpoint.
     */
    public CompletableFuture<WorkflowRunUpdateResponse> update(String workflowRunId) {
        return this.rawClient.update(workflowRunId).thenApply(response -> response.body());
    }

    /**
     * You can update the name and metadata of an in progress WorkflowRun at any time using this endpoint.
     */
    public CompletableFuture<WorkflowRunUpdateResponse> update(String workflowRunId, WorkflowRunUpdateRequest request) {
        return this.rawClient.update(workflowRunId, request).thenApply(response -> response.body());
    }

    /**
     * You can update the name and metadata of an in progress WorkflowRun at any time using this endpoint.
     */
    public CompletableFuture<WorkflowRunUpdateResponse> update(
            String workflowRunId, WorkflowRunUpdateRequest request, RequestOptions requestOptions) {
        return this.rawClient.update(workflowRunId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Delete a workflow run and all associated data from Extend. This operation is permanent and cannot be undone.
     * <p>This endpoint can be used if you'd like to manage data retention on your own rather than automated data retention policies. Or make one-off deletions for your downstream customers.</p>
     */
    public CompletableFuture<WorkflowRunDeleteResponse> delete(String workflowRunId) {
        return this.rawClient.delete(workflowRunId).thenApply(response -> response.body());
    }

    /**
     * Delete a workflow run and all associated data from Extend. This operation is permanent and cannot be undone.
     * <p>This endpoint can be used if you'd like to manage data retention on your own rather than automated data retention policies. Or make one-off deletions for your downstream customers.</p>
     */
    public CompletableFuture<WorkflowRunDeleteResponse> delete(String workflowRunId, RequestOptions requestOptions) {
        return this.rawClient.delete(workflowRunId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Cancel a running workflow run by its ID. This endpoint allows you to stop a workflow run that is currently in progress.
     * <p>Note: Only workflow runs with a status of <code>PROCESSING</code> or <code>PENDING</code> can be cancelled. Workflow runs that are completed, failed, in review, rejected, or already cancelled cannot be cancelled.</p>
     */
    public CompletableFuture<WorkflowRunCancelResponse> cancel(String workflowRunId) {
        return this.rawClient.cancel(workflowRunId).thenApply(response -> response.body());
    }

    /**
     * Cancel a running workflow run by its ID. This endpoint allows you to stop a workflow run that is currently in progress.
     * <p>Note: Only workflow runs with a status of <code>PROCESSING</code> or <code>PENDING</code> can be cancelled. Workflow runs that are completed, failed, in review, rejected, or already cancelled cannot be cancelled.</p>
     */
    public CompletableFuture<WorkflowRunCancelResponse> cancel(String workflowRunId, RequestOptions requestOptions) {
        return this.rawClient.cancel(workflowRunId, requestOptions).thenApply(response -> response.body());
    }
}
